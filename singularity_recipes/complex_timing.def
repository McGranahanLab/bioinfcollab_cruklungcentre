Bootstrap: docker
From: continuumio/anaconda3 

%help
Main software:
	Complex Timing v.11_02_2022 https://github.com/tobybaker/complex-timing.git

	Supported by:
	gdown, numba, scipy, pandas, numpy

	Example run:
	singularity exec complextiming_v11feb2022.sif python /complex-timing/runcomplextiming.py

%labels
	CREATOR Maria Litovchenko
	ORGANIZATION UCL

%runscript
	exec python "$@"

%post
	export DEBIAN_FRONTEND=noninteractive
	rm -rf /var/lib/apt/lists/*
	apt-get update -y
	apt-get upgrade -y
	apt-get install -y build-essential software-properties-common gcc unzip \
					   wget make tabix procps \
					   gfortran libz-dev zlib1g-dev libssl-dev \
					   libbz2-dev liblzma-dev libxml2-dev libgit2-dev \
					   libncurses5-dev libcurl4-openssl-dev

	# install java-jdk/jre
	/opt/conda/bin/conda install -c conda-forge gdown=4.2.1 numba=0.54.1 \
	                                 scipy=1.7.1 pandas=1.3.4 numpy=1.20.3 \
	                                 emcee=2.2.1

	gdown https://drive.google.com/uc?id=11_xrt4tkQLYUPqaMZXZDmlvCNoXz7XOT
	unzip complex-timing-main.zip
	mv complex-timing-main complex-timing